# üöÄ QUICK START GUIDE

## ‚ö° **Immediate Next Steps** (5 minutes)

### **Step 1: Get Your Supabase Connection String**

1. Open [https://supabase.com/dashboard](https://supabase.com/dashboard)
2. Select your project (or create one)
3. Go to: **Settings** ‚Üí **Database**
4. Under "Connection pooling" ‚Üí Copy the **Connection string**
5. Replace `[YOUR-PASSWORD]` in the URL with your actual database password

**Format**:
```
postgresql://postgres.[project-ref]:[YOUR-PASSWORD]@aws-0-us-east-1.pooler.supabase.com:5432/postgres
```

---

### **Step 2: Create Database Table**

In Supabase Dashboard:
1. Go to **SQL Editor**
2. Click "New Query"
3. Paste this:

```sql
-- Create canonical glucose_readings table
CREATE TABLE glucose_readings (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  glucose_mgdl INTEGER NOT NULL,
  measured_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
  notes TEXT,
  meal_tag TEXT,
  created_at TIMESTAMPTZ NOT NULL DEFAULT NOW(),
  updated_at TIMESTAMPTZ NOT NULL DEFAULT NOW()
);

-- Indexes for performance
CREATE INDEX idx_glucose_measured_at ON glucose_readings(measured_at DESC);
CREATE INDEX idx_glucose_created_at ON glucose_readings(created_at DESC);
```

4. Click **Run** (or press `Cmd/Ctrl + Enter`)

---

### **Step 3: Update Backend Configuration**

Edit `apps/api/.env`:

```bash
PORT=4000
DATABASE_URL=postgresql://postgres.[your-ref]:[your-password]@[region].pooler.supabase.com:5432/postgres
PGSSLMODE=require
```

**Replace**:
- `[your-ref]` ‚Üí Your Supabase project reference
- `[your-password]` ‚Üí Your database password
- `[region]` ‚Üí Your Supabase region (e.g., `aws-0-us-east-1`)

---

### **Step 4: Start the Backend**

```bash
npm run dev:api
```

**Expected output**:
```
‚úÖ Server listening on port 4000
```

---

### **Step 5: Test Backend Health**

Open a new terminal and run:

```bash
curl http://localhost:4000/health
```

**Expected response**:
```json
{
  "status": "ok",
  "db": "connected",
  "timestamp": "2026-01-18T..."
}
```

---

### **Step 6: Start the Frontend**

In a **new terminal window**:

```bash
npm run dev:web
```

**Expected output**:
```
‚ñ≤ Next.js 16.1.1
- Local: http://localhost:3000
```

---

### **Step 7: Verify Everything Works**

1. **Frontend**: Open [http://localhost:3000](http://localhost:3000)
2. **Backend**: Open [http://localhost:4000/health](http://localhost:4000/health)

---

## üß™ **Test the API**

### **Create a glucose reading**:
```bash
curl -X POST http://localhost:4000/api/glucose \
  -H "Content-Type: application/json" \
  -d '{
    "glucose_mgdl": 110,
    "notes": "Before breakfast",
    "meal_tag": "fasting"
  }'
```

### **Get recent readings**:
```bash
curl http://localhost:4000/api/glucose?limit=10
```

### **Delete a reading (replace ID)**:
```bash
curl -X DELETE http://localhost:4000/api/glucose/1
```

---

## ‚ö†Ô∏è **Troubleshooting**

### **Backend won't start**
- ‚ùå Check `.env` file exists in `apps/api/`
- ‚ùå Verify DATABASE_URL is correct
- ‚ùå Test DB connection in Supabase dashboard

### **"DATABASE_URL missing" error**
- Edit `apps/api/.env` with actual Supabase URL
- Do NOT use the placeholder value

### **CORS errors in browser**
- Backend CORS is configured for `localhost:3000`
- If using different port, update `apps/api/src/server.js` line 19

### **Port already in use**
```bash
# Kill process on port 4000
kill -9 $(lsof -ti:4000)

# Kill process on port 3000
kill -9 $(lsof -ti:3000)
```

---

## üéØ **You're Ready!**

Once all steps show ‚úÖ:
- Backend running on `:4000`
- Frontend running on `:3000`
- Health check returns OK
- API endpoints work

**Next phase**: Build the UI! üé®

```bash
# Run both apps simultaneously (recommended)
npm run dev
```

---

## üìö **Documentation**

- **Full README**: See `README.md`
- **Normalization Report**: See `docs/NORMALIZATION.md`
- **Database Schema**: See `packages/db/schema.sql`
- **API Documentation**: See `apps/api/README.md`
